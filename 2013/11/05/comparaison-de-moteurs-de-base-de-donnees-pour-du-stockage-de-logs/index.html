<!DOCTYPE html>
<html lang="fr">
<head><meta charset="utf-8">
<title>Comparaison de moteurs de base de donn&#233;es pour du stockage de logs | EventuallyCoding</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://digianalytics.fr/pixel/73jqBv5FmFIZiWt2" defer="" type="text/javascript"></script>
<meta name="description" content="Il y a un an je m’étais aventuré à tester plusieurs bases Nosql, l’objectif étant pour moi d’apprivoiser les moteurs, de comprendre leurs usages et de...">
<meta name="og:description" content="Il y a un an je m’étais aventuré à tester plusieurs bases Nosql, l’objectif étant pour moi d’apprivoiser les moteurs, de comprendre leurs usages et de...">
<meta name="og:type" content="article">
<meta name="og:title" content="Comparaison de moteurs de base de données pour du stockage de logs">
<meta name="og:url" content="https://eventuallycoding.com/2013/11/05/comparaison-de-moteurs-de-base-de-donnees-pour-du-stockage-de-logs">
<meta name="og:image" content="https://eventuallycoding.com/images/covers/cover2.jpg">
<meta name="og:image:alt" content="Comparaison de moteurs de base de données pour du stockage de logs">
<meta name="twitter:text:title" content="Comparaison de moteurs de base de données pour du stockage de logs">
<meta name="twitter:image" content="https://eventuallycoding.com/images/covers/cover2.jpg">
<meta name="twitter:card" content="summary">
<meta name="article:published_time" content="2013-11-05T00:00:00.000Z">
<meta name="article:article:modified_time" content="2013-11-05T00:00:00.000Z">
<meta name="article:article:tag" content="bench,cassandra,elasticsearch,logs,mongodb,mysql">
<link rel="canonical" href="https://eventuallycoding.com/2013/11/05/comparaison-de-moteurs-de-base-de-donnees-pour-du-stockage-de-logs">
<link rel="alternate" href="https://eventuallycoding.com/2013/11/05/comparaison-de-moteurs-de-base-de-donnees-pour-du-stockage-de-logs" hreflang="fr"><link rel="modulepreload" href="/2013/11/05/comparaison-de-moteurs-de-base-de-donnees-pour-du-stockage-de-logs/_payload.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.2ce1f658.js"><link rel="preload" as="style" href="/_nuxt/entry.b1b3c88d.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.a70527fc.js"><link rel="preload" as="style" href="/_nuxt/TheHeader.e21518f4.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.91bb2324.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/siteMetaData.b74feb44.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_id_.995de1b0.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dropdown.570a6251.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_commonjsHelpers.28e086c5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.863ef0bd.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.b332a498.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.a6ef77ff.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.3febf9e7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.61d74bb5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/utils.f3f4bcc1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/composables.0bf89eb0.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.e573479b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.6991cfcb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.fe0ced9e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.743801a3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.49505876.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.2f219e27.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseImg.d69253e8.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseStrong.be21de28.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.fff08bd2.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.62b3f66a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.eb5c63ac.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.70dd063b.js"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/github_new.4e3fe23c.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/rss.9e0b880c.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/mastodon.f0ecdde8.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/linkeding.34c3bc6d.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/twitter.457cff27.svg"><link rel="stylesheet" href="/_nuxt/entry.b1b3c88d.css"><link rel="stylesheet" href="/_nuxt/TheHeader.e21518f4.css"><style>.inverted[data-v-a060ef80]{--tw-bg-opacity:1;background-color:rgb(248 250 252/var(--tw-bg-opacity))}.inverted .font-to-invert-to-pink[data-v-a060ef80]{color:rgb(236 72 153/var(--tw-text-opacity))}.inverted .font-to-invert-to-black[data-v-a060ef80],.inverted .font-to-invert-to-pink[data-v-a060ef80]{--tw-text-opacity:1;transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.inverted .font-to-invert-to-black[data-v-a060ef80]{color:rgb(51 65 85/var(--tw-text-opacity))}.inverted .font-to-invert-to-black[data-v-a060ef80]:hover{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.link[data-v-a060ef80]{display:block;font-size:1rem;font-weight:500;line-height:1.5rem;overflow:hidden;padding-left:.75rem;padding-right:.75rem;position:relative;text-decoration:none}.link.NuxtLink-exact-active[data-v-a060ef80]:after{bottom:-2px;height:100%;left:0;width:100%}.link[data-v-a060ef80]:after{background:rgba(236,64,122,.25);bottom:-6px;content:"";height:calc(100% - 8px);left:18px;position:absolute;transition:.35s cubic-bezier(.25,.1,0,2.05);width:calc(100% - 8px);z-index:-1}.link[data-v-a060ef80]:hover:after{bottom:-2px;height:100%;left:0;width:100%}</style><style>.nuxt-content h2{font-size:28px;font-weight:700}.nuxt-content h3{font-size:22px;font-weight:700}.nuxt-content p{margin-bottom:20px}</style></head>
<body ><div id="__nuxt"><!--[--><section class="w-full pb-12 antialiased"><div class="mx-auto max-w-8xl"><div data-v-a060ef80><nav id="header-menu" class="transition-colors fixed w-full z-10 top-0 inverted" data-v-a060ef80><div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8" data-v-a060ef80><div class="relative flex items-center justify-between h-16" data-v-a060ef80><div class="absolute inset-y-0 left-0 flex items-center sm:hidden" data-v-a060ef80><button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false" data-v-a060ef80><span class="sr-only" data-v-a060ef80>Open main menu</span><svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" data-v-a060ef80><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" data-v-a060ef80></path></svg><svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" data-v-a060ef80><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" data-v-a060ef80></path></svg></button></div><div class="flex-1 flex items-center justify-center sm:items-stretch sm:justify-start" data-v-a060ef80><div class="flex-shrink-0 flex items-center" data-v-a060ef80><span class="text-white text-base font-medium font-bruno text-2xl font-to-invert-to-pink" data-v-a060ef80><a href="/" class="" data-v-a060ef80>EventuallyCoding.com</a></span></div><div class="hidden sm:block sm:ml-6 absolute right-0 font-mark" data-v-a060ef80><div class="flex space-x-4" data-v-a060ef80><!--[--><a href="/speaking" class="link text-white font-to-invert-to-black" data-v-a060ef80>Speaking</a><a href="/blog" class="link text-white font-to-invert-to-black" data-v-a060ef80>Writing</a><a href="/resources" class="link text-white font-to-invert-to-black" data-v-a060ef80>Resources</a><a href="/about" class="link text-white font-to-invert-to-black" data-v-a060ef80>About</a><!--]--></div></div></div></div></div><div class="hidden" data-v-a060ef80><div class="px-2 pt-2 pb-3 space-y-1" data-v-a060ef80><!--[--><a href="/speaking" class="text-white hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium font-to-invert-to-black" data-v-a060ef80>Speaking</a><a href="/blog" class="text-white hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium font-to-invert-to-black" data-v-a060ef80>Writing</a><a href="/resources" class="text-white hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium font-to-invert-to-black" data-v-a060ef80>Resources</a><a href="/about" class="text-white hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium font-to-invert-to-black" data-v-a060ef80>About</a><!--]--></div></div></nav></div><!--[--><!--[--><div><div class="flex justify-center mt-24"><img src="/images/covers/cover2.jpg" alt="Comparaison de moteurs de base de données pour du stockage de logs" class="object-cover w-96"></div><div class="px-4 mx-auto sm:px-6 xl:max-w-7xl xl:px-0 mt-10"><div><h1 class="text-4xl text-gray-700 font-extrabold text-center mb-3">Comparaison de moteurs de base de données pour du stockage de logs</h1><p class="text-slate-400 text-center mb-1"><!----></p><div class="grid grid-cols-3 text-center sm:w-full md:w-1/2 mx-auto"><div><p class="text-center font-bold my-4 text-slate-400 text-xs"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> November 5, 2013</p></div><div><p class="text-center font-bold my-4 text-slate-400 text-xs"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 12 min read</p></div><div class="flex items-center font-medium sm:mx-3 justify-center"><img src="/hugo-nb.jpg" loading="lazy" alt="" class="mr-3 w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-800"><div><div class="font-bold text-slate-400 text-xs">Hugo Lassiège</div><a target="_blank" href="https://twitter.com/hugolassiege" class="font-bold text-sky-400 text-xs hover:text-sky-600"> @hugolassiege</a></div></div></div></div><div class="text-left mx-auto"><div class="flex flex-wrap lg:flex-row-reverse py-12"><div class="w-full lg:w-1/4 px-5"><div class="lg:sticky top-0 pt-5 -mt-5 font-proxima"><div class="toc hidden lg:block"><p class="border-b-4 pb-3 mb-3 border-gray-200 text-xl"> On this page </p><ul class="pl-0"><!--[--><li class="py-1"><a class="hover:text-smalt-blue-700" href="#le-contexte">Le contexte</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#les-bases-évaluées">Les bases évaluées</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#mode-dinstallation">Mode d’installation</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#avertissement-général">Avertissement général</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#métriques">Métriques</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#résultats-en-insertion">Résultats en insertion</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#consommation-ressource">Consommation ressource</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#résultats-en-lecture">Résultats en lecture</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#et-le-reste-de-larchitecture">Et le reste de l’architecture ?</a></li><!--]--></ul></div><div class="text-right mb-12"><div class="relative inline-block text-left ml-2 block lg:hidden"><div><span class="rounded-md shadow-sm"><button type="button" class="inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-sm leading-5 font-medium text-black hover:text-white hover:bg-smalt-blue-500 focus:outline-none transition ease-in-out duration-150" aria-haspopup="true" aria-expanded="true"><!--[-->On this page<!--]--><svg class="-mr-1 ml-2 h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></span></div><!----></div></div></div></div><div class="lg:w-3/4 w-full px-5 max-w-none centered-image"><div id="nuxtContent" class="prose font-proxima text-sm md:text-xl font-medium min-w-full md:p-10 mx-auto"><p><!--[-->Il y a un an je m’étais aventuré à tester plusieurs bases Nosql, l’objectif étant pour moi d’apprivoiser les moteurs, de comprendre leurs usages et de voir si nous pouvions en faire bon usage sur <a href="http://www.hopwork.com/" rel="nofollow"><!--[-->HopWork<!--]--></a>.<!--]--></p><p><!--[-->Cette mini étude était paru sur ce même blog :<!--]--></p><ul><!--[--><li><!--[--><a href="http://www.eventuallycoding.com/index.php/nosql-4-bases-a-la-loupe-14/" rel="nofollow"><!--[-->http://www.eventuallycoding.com/index.php/nosql-4-bases-a-la-loupe-14/<!--]--></a><!--]--></li><li><!--[--><a href="http://www.eventuallycoding.com/index.php/nosql-4-bases-a-la-loupe-24/" rel="nofollow"><!--[-->http://www.eventuallycoding.com/index.php/nosql-4-bases-a-la-loupe-24/<!--]--></a><!--]--></li><li><!--[--><a href="http://www.eventuallycoding.com/index.php/nosql-4-bases-a-la-loupe-34/" rel="nofollow"><!--[-->http://www.eventuallycoding.com/index.php/nosql-4-bases-a-la-loupe-34/<!--]--></a><!--]--></li><li><!--[--><a href="http://www.eventuallycoding.com/index.php/nosql-4-bases-a-la-loupe-44/" rel="nofollow"><!--[-->http://www.eventuallycoding.com/index.php/nosql-4-bases-a-la-loupe-44/<!--]--></a><!--]--></li><!--]--></ul><p><!--[-->Evidemment comme tout “bench” on pouvait y faire pas mal de critiques, j’utilisais un environnement Windows très éloigné de la prod, le jeu de données contenait peu de variations ce qui permettait aux différents maillons de la chaîne d’optimiser au maximum les appels que je faisais.<!--]--></p><p><!--[-->Si certains ont pris le bench au pied de la lettre, désolé, l’objectif pour moi c’était de me familiariser avec les API et de comprendre les cas d’usage et de voir si, grosso modo, c’était déconnant ou pas en terme de vitesse.<!--]--></p><p><!--[-->Et cette année j’ai eu la chance de travailler sur une architecture de collecte et traitement de logs pour laquelle j’ai refait des tests plus poussés dans de meilleures conditions sur :<!--]--></p><ul><!--[--><li><!--[-->Elasticsearch<!--]--></li><li><!--[-->MongoDb<!--]--></li><li><!--[-->Cassandra<!--]--></li><li><!--[-->Mysql<!--]--></li><!--]--></ul><p><!--[-->Sujet que je vous invite à lire ici.<!--]--></p><h2 id="le-contexte"><a href="#le-contexte"><!--[-->Le contexte<!--]--></a></h2><p><!--[-->Comme je l’ai dit plus haut, nous cherchions à construire une architecture de collecte et traitement de logs.<!--]--></p><p><!--[-->Ces logs sont des logs techniques (des composants systèmes) composé de couples clé valeur.<!--]--></p><p><!--[-->Cette architecture devait pouvoir être hébergé en Cloud et être utilisé à distance (du SAAS). Le volume de logs sans être démentiel pouvait attendre 500Gb/jour.<!--]--></p><p><!--[-->La charge en lecture devait être relativement mineure, réservé à quelques admins. Par contre les requêtes peuvent être complexes et porter sur plusieurs “champs” du log.<!--]--></p><p><!--[-->Pour ces tests, j’ai eu la chance de bénéficer de 4 dedibox classic de 8Gb de ram et 4 coeurs sur lesquelles nous avons installé une debian 7. Grace à cela nous avons pu monter des architectures clusterisées.<!--]--></p><h2 id="les-bases-évaluées"><a href="#les-bases-évaluées"><!--[-->Les bases évaluées<!--]--></a></h2><p><!--[-->4 bases ont été évaluées dans ce contexte :<!--]--></p><ul><!--[--><li><!--[-->ElasticSearch<!--]--></li><li><!--[-->MongoDB<!--]--></li><li><!--[-->Cassandra<!--]--></li><li><!--[-->Mysql<!--]--></li><!--]--></ul><p><!--[-->Pourquoi celles-ci ? Pour les 3 premières car elles sont reconnues pour être utilisé dans ce type de contexte ou parce que c’était les bases connus par les membres du projet. Mais il est fort probable que d’autres bases répondent au besoin.<!--]--></p><p><!--[-->Pour Mysql, elle était anciennement utilisé sur le projet. Son utilisation posait problème mais l’ancienne application tournait toujours en Mysql 3.x et aurait sans doute bien profité d’un peu de tuning. Instinctivement ce moteur ne paraissait plus adapté mais il fallait quand même en être sûr.<!--]--></p><p><!--[-->Et pour les quelques uns qui ne manqueront pas de poser la question “pourquoi pas Hadoop ?” Tout simplement parce que 500Gb par jour, stocké sur 3 jour ca reste une petite volumétrie  qui ne nécessite pas un tel tank.  Mais pour en dire un peu plus, Hadoop est bien prévu pour l&#39;archivage des logs long termes.<!--]--></p><p><!--[-->Voyons en détail les architectures de chacune de ces bases.<!--]--></p><h3 id="mongodb"><a href="#mongodb"><!--[-->MongoDB<!--]--></a></h3><p><!--[-->MongoDB a été utilisé en cluster (replica Set) de 3 machines. MongoDB fait partie des systèmes <a href="https://en.wikipedia.org/wiki/CAP_theorem" rel="nofollow"><!--[-->CP<!--]--></a> (cohérent et résistant au morcellement). Les écritures sont faites sur du master single node. Les lectures par défaut sont effectuées sur le master mais peuvent être effectuées sur les secondaires.<!--]--></p><p><!--[--><a href="http://eventuallycoding.com/wp-content/uploads/2013/11/22faa-mongodb.png" rel="nofollow"><!--[--><img src="/images/22faa-mongodb.png" alt="mongodb"><!--]--></a><!--]--></p><p><!--[-->Le mode d&#39;acquittement choisi (<a href="http://docs.mongodb.org/manual/core/write-concern/" rel="nofollow"><!--[-->WriteConcern<!--]--></a>) vérifie que les données ont été reçues et acquittées par une majorité de nœuds (ici 2) afin de garantir la non perte de données, ce que nous vérifierons cependant en cours de test.<!--]--></p><p><!--[-->Au début nous avons utilisé des <a href="http://docs.mongodb.org/manual/core/capped-collections/" rel="nofollow"><!--[-->capped collection<!--]--></a> qui ont l&#39;avantage de fixer une taille limite aux logs stockés en supprimant les anciens logs lorsque la taille limite est atteinte. En gros ce sont des logs tournants sur la taille. Cette taille étant préalloué, en principe l’insertion est optimisé.<!--]--></p><p><!--[-->Cependant le gain en insertion s&#39;est révélé nul (ce qui me surprend encore et qu’il faudra que j’investigue) et nous sommes revenus sur des collections non cappés.<!--]--></p><p><!--[-->L&#39;utilisation <a href="http://docs.mongodb.org/manual/tutorial/expire-data/" rel="nofollow"><!--[-->d&#39;index TTL<!--]--></a> (time to live) nous a permis d&#39;obtenir une fonctionnalité équivalente, à savoir la suppression des logs trop vieux de x jours. En fait, les index TTL sont même bien plus fins qu’un roulement sur la taille lorsqu’on veut conserver un nombre de jours fixes.<!--]--></p><p><!--[-->Afin de satisfaire des performances normales en lecture, il a fallu placer un index par champ.<!--]--></p><p><!--[-->Nous avons utilisé du bulk insert par lot de 5000.<!--]--></p><p><!--[-->Nous n&#39;avons pas mis en place de Sharding ce qui aurait beaucoup plus impactant en terme de nombres de machines.<!--]--></p><p><!--[--><strong><!--[-->Attention à ne pas prendre la version par défaut sous debian. Il s’agit de la 2.0.4 qui est TRES loin d’être une version recommandé aujourd’hui.<!--]--></strong><!--]--></p><h3 id="elasticsearch"><a href="#elasticsearch"><!--[-->elasticsearch<!--]--></a></h3><p><!--[-->elasticsearch a été utilisé en cluster de 3 nœuds. Un nœud contient plusieurs shards (une répartition de la donnée) et ces shards sont répliqués sur chaque nœud du cluster.<!--]--></p><p><!--[--><a href="http://eventuallycoding.com/wp-content/uploads/2013/11/35850-elasticsearch.png" rel="nofollow"><!--[--><img src="/images/35850-elasticsearch.png" alt="elasticsearch"><!--]--></a><!--]--></p><p><!--[-->Les caractéristiques intéressantes de elasticsearch sont ses capacités de recherches avancées et sa rapidité de requêtage.<!--]--></p><p><!--[-->Nous avons utilisé une configuration avec 5 shards et 1 replicas.<!--]--></p><p><!--[-->Comme pour MongoDB, nous avons utilisé des <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/mapping-ttl-field.html" rel="nofollow"><!--[-->index TTL<!--]--></a> sur les documents afin d’avoir des logs tournants sur leur âge.<!--]--></p><h3 id="cassandra"><a href="#cassandra"><!--[-->Cassandra<!--]--></a></h3><p><!--[-->Cassandra a été utilisé en mode Cluster de 3 nœuds. Cassandra n&#39;a pas de maître qui centralise les écritures et lectures, ce qui aurait du le rendre plus rapide en écriture que MongoDB. Les tests nous ont démontré le contraire. Cassandra propose de paramétrer la cohérence attendue tout comme MongoDB en précisant le nombre de nœuds pour lesquels ont veut un acquittement. Pour nos tests nous demanderons l&#39;acquittement par la majorité des nœuds afin de garantir la non-perte de données. Par contre nous pourrons accepter une lecture sur un seul nœud, la cohérence en lecture étant secondaire.<!--]--></p><p><!--[--><a href="http://eventuallycoding.com/wp-content/uploads/2013/11/05fac-cassandra.png" rel="nofollow"><!--[--><img src="/images/05fac-cassandra.png" alt="cassandra"><!--]--></a><!--]--></p><p><!--[-->Comme pour MongoDB, pour garantir des performances acceptables en lecture il a été nécessaire de placer des index sur chaque colonne.<!--]--></p><p><!--[-->Pour être complet, il s’agissait de la base que nous ne connaissions pas avant le bench. Il y a fort à parier que nous ayons loupé des paramétrages/tunings importants.<!--]--></p><h3 id="mysql"><a href="#mysql"><!--[-->Mysql<!--]--></a></h3><p><!--[-->Et là commence l’enfer… Mysql devait être utilisé en mode cluster.<!--]--></p><p><!--[-->Sous Debian il existe <a href="http://codership.com/content/using-galera-cluster" rel="nofollow"><!--[-->Galera<!--]--></a> pour réaliser un cluster Mysql. Malheureusement ce paquet porte très bien son nom et nous n’avons pas réussi à l’installer dans les temps. Il a fallu tester Mysql en mode single node.<!--]--></p><p><!--[-->Dommage qu’un produit aussi ancien soit si complexe à installer en cluster comparativement aux autres produits...<!--]--></p><p><!--[-->Comme pour MongoDB et Cassandra, pour garantir des performances acceptables en lecture il a été nécessaire de placer des index sur chaque colonne.<!--]--></p><h2 id="mode-dinstallation"><a href="#mode-dinstallation"><!--[-->Mode d’installation<!--]--></a></h2><p><!--[-->Comme il me semblait inconcevable de monter tout une architecture de bench jetable, j’ai décidé d’utiliser <a href="http://docs.fabfile.org/en/1.8/" rel="nofollow"><!--[-->Fabric<!--]--></a> pour automatiser et reproduire simplement les install.<!--]--></p><p><!--[-->Vous trouverez d’ailleurs un article ainsi que les sources utilisé pour monter un cluster ES, MongoDB et Cassandra <a href="http://www.eventuallycoding.com/index.php/fabric-moi-un-cluster/" rel="nofollow" title="Fabric moi un cluster"><!--[-->sur un précédent article<!--]--></a>.<!--]--></p><p><!--[-->Bien nous en a pris. Quand une des machines a du être remplacé pendant les tests nous étions bien contents d’avoir ces scripts.<!--]--></p><p><!--[-->Je ne saurais que trop insister pour avoir des installations de benchs reproductibles. Pensez aussi à vos petits copains qui auront besoin de refaire ces tests dans quelques temps.<!--]--></p><h2 id="avertissement-général"><a href="#avertissement-général"><!--[-->Avertissement général<!--]--></a></h2><p><!--[-->Je remet ce que j’avais déjà mis dans un précédent billet :<!--]--></p><blockquote><!--[--><p><!--[--><em><!--[--><strong><!--[-->Warning<!--]--></strong> : une partie de ce billet traite d’un comparatif de performance, ce genre de comparatif n’engage que celui qui lui fait confiance<!--]--></em><!--]--></p><p><!--[--><em><!--[-->Petit rappel pour les afficionados des benchmarks. Un benchmark sert, <strong><!--[-->entre autre<!--]--></strong>, à mettre en évidence des paramétrages et leur influence. On ne s’attache pas qu&#39;à la mesure elle-même mais à la tendance et comment on l’a obtenu.<!--]--></em><!--]--></p><p><!--[--><em><!--[-->Pour une différence de quelques millisecondes on pourra argumenter sur un paramétrage spécifique ou une manière de coder peu efficace. De toute façon il existera toujours des benchmark contradictoire. Sauf grosse bourde on peut quand même établir des conclusions lorsque les rapports sont vraiment importants mais un conseil, refaites les de votre côté si vous comptez engager votre tête là dessus<!--]--></em><!--]--></p><!--]--></blockquote><p><!--[-->Pour ce bench spécifiquement nous avons du le réaliser en un court laps de temps avec peu d’expérience d’admin sur les moteurs évalués. Il existe des paramétrages de tuning pour chacune de ces bases qui peuvent influer sur les résultats et faire passer en tête l&#39;une ou l&#39;autre base, par exemple le nombre de shards sur elasticsearch, la taille des bulk insert, l&#39;utilisation d&#39;index etc...<!--]--></p><p><!--[-->Bref, largement de quoi faire varier les résultats. Faites vous votre idée tout seul si vous envisagez d’utiliser l’une d’entre elles.<!--]--></p><h2 id="métriques"><a href="#métriques"><!--[-->Métriques<!--]--></a></h2><p><!--[-->Quand on réalise un bench, il faut des métriques, normal. Pour nous, il s’agissait de mesurer la consommation de ressources pour une utilisation en Cloud.<!--]--></p><p><!--[-->Nous avons donc mesuré les données suivantes :<!--]--></p><ul><!--[--><li><!--[-->Taille de disque utilisée (prise en compte de l&#39;overhead sur une donnée brute)<!--]--></li><li><!--[-->Nombre de logs perdus (pour les mauvaises langues qui pensaient que nous allions en perdre avec MongoDB, c’est faux, rien n’a été perdu)<!--]--></li><li><!--[-->Throughput (nombre d&#39;insertions, nombre de lectures/seconde)<!--]--></li><li><!--[-->RAM<!--]--></li><li><!--[-->CPU<!--]--></li><!--]--></ul><h1 id="mode-opératoire"><!--[-->Mode opératoire<!--]--></h1><p><!--[-->Comme je l’indiquais plus haut, j’ai eu la possibilité d’utiliser 4 machines Dedibox vierges pour ces tests. Les bases ont donc été installés en cluster sur 3 noeuds et un client de test a été installé sur la dernière machine.<!--]--></p><p><!--[-->Ce client de test écrit en Python a un protocole relativement simple :<!--]--></p><ul><!--[--><li><!--[-->lecture d’un fichier de 100Mo de logs en boucle<!--]--></li><li><!--[-->envoi de ces logs via pycassandra, pyes, pymongo ou pymysql en mode batch insert<!--]--></li><li><!--[-->calcul de stats sur le débit, les pertes, la taille etc...<!--]--></li><!--]--></ul><p><!--[-->En plus de ça <a href="http://docs.fabfile.org/en/1.8/" rel="nofollow"><!--[-->Fabric<!--]--></a> est utilisé pour démarrer le client avec différents paramétrages sur nos postes locaux et pour aller collecter ensuite des métriques directement sur les machines.<!--]--></p><p><!--[-->Des tests ont été faits avec temporisation sur de longues périodes (4h), sans temporisation sur de courtes périodes (5min), avec des volumes faibles (&lt;30Mo) ou plus importants (500Go).<!--]--></p><h2 id="résultats-en-insertion"><a href="#résultats-en-insertion"><!--[-->Résultats en insertion<!--]--></a></h2><p><!--[-->Sur les insertions, malheureusement Cassandra ne nous a pas permis d&#39;atteindre les 10M de lignes. Nous avons constamment rencontré des problèmes de timeout à partir de 3/4 M de lignes.<!--]--></p><p><!--[-->J’imagine que nous avons loupé quelque chose d’important en terme de mise en place.<!--]--></p><p><!--[-->Rappelez vous que Mysql ne fait aucune réplication de données, nous sommes en mode single node.<!--]--></p><p><!--[--><a href="http://eventuallycoding.com/wp-content/uploads/2013/11/90288-resultat1.png" rel="nofollow"><!--[--><img src="/images/90288-resultat1.png" alt="resultat1"><!--]--></a><!--]--></p><p><!--[--><a href="http://eventuallycoding.com/wp-content/uploads/2013/11/0463d-resultat2.png" rel="nofollow"><!--[--><img src="/images/0463d-resultat2.png" alt="resultat2"><!--]--></a><!--]--></p><p><!--[-->En performance pure, elasticsearch a montré de bonnes performances (208Mo/min) qui sont restés linéaire avec la charge. Il réussit à être plus performant que Mysql malgré le fait d&#39;être en cluster avec 1 replica.<!--]--></p><h2 id="consommation-ressource"><a href="#consommation-ressource"><!--[-->Consommation ressource<!--]--></a></h2><p><!--[--><a href="http://eventuallycoding.com/wp-content/uploads/2013/11/9661d-resultat3.png" rel="nofollow"><!--[--><img src="/images/9661d-resultat3.png" alt="resultat3"><!--]--></a><!--]--></p><p><!--[-->Cassandra n&#39;a pas été évalué puisqu&#39;il n&#39;a pas réussi à prendre l&#39;insertion de 10M de lignes.<!--]--></p><p><!--[-->elasticsearch est le plus performant pour le critère qui nous intéressait le plus : la taille sur disque. Malgré un replica il stocke à peine 3.6Go en cumulé sur 3 disques pour 5 Go envoyé. MongoDB à l&#39;inverse est le spécialiste en place consommé ! En effet il a tendance a rapidement <a href="http://docs.mongodb.org/manual/faq/storage/#why-are-the-files-in-my-data-directory-larger-than-the-data-in-my-database" rel="nofollow"><!--[-->préallouer des blocs de 1go sur le disque<!--]--></a> en quantité plus que nécessaire lorsqu’on le stresse.<!--]--></p><p><!--[-->Mysql de son côté a la plus faible consommation RAM et CPU, ce qui laisse supposer qu&#39;il aurait pu aller plus vite en écriture. Par contre avec l&#39;utilisation d&#39;un index par colonne, il utilise presque 40% d&#39;espace disque supplémentaire par rapport à elasticsearch.<!--]--></p><h2 id="résultats-en-lecture"><a href="#résultats-en-lecture"><!--[-->Résultats en lecture<!--]--></a></h2><p><!--[--><a href="http://eventuallycoding.com/wp-content/uploads/2013/11/07f0d-resultat4.png" rel="nofollow"><!--[--><img src="/images/07f0d-resultat4.png" alt="resultat4"><!--]--></a><!--]--></p><p><!--[-->Sur 10M d’enregistrements Mysql est le grand vainqueur sur les tests de lecture, suivi de Mongo et d&#39;elasticsearch. Cependant les tests restent très bons dans les trois cas pour notre cas d&#39;usage.<!--]--></p><p><!--[-->Ce test <strong><!--[-->est malheureusement est loin d’être complet<!--]--></strong> car 10M d’enregistrement est beaucoup trop loin de notre réalité. Mais le temps de domestiquer chaque base, de la tuner et d’y insérer 1 Milliard d’enregistrement via le réseau dépassait le temps alloué à ce sprint.<!--]--></p><p><!--[-->Seul elasticsearch a été poussé jusque là. <strong><!--[-->Et heureusement<!--]--></strong>, car sur 1 Milliard d’enregistrement on se rend vite compte que la RAM dispo sur la machine doit être suffisante pour monter une grosse partie des informations en mémoire. Nos pauvres 8 Go n’étaient largement pas suffisants, surtout avec l’utilisation de facettes.<!--]--></p><h1 id="conclusion-et-décision"><!--[-->Conclusion et décision<!--]--></h1><p><!--[-->Ces test ont été très instructifs et en fin de compte nous avons penché pour elasticsearch. Il convenait à notre usage, nous permettait de rester dans les clous en terme de consommation de ressource et surtout nous a impressionné pour sa facilité de mise en place lors des tests.<!--]--></p><p><!--[-->Et comme nous allons le voir sur le reste de l’architecture, il nous laissait la possibilité d’utiliser Kibana pour la visualisation des logs.<!--]--></p><h2 id="et-le-reste-de-larchitecture"><a href="#et-le-reste-de-larchitecture"><!--[-->Et le reste de l’architecture ?<!--]--></a></h2><p><!--[-->Eh bien le reste de l’architecture est assez “standard”. Standard car on commence à retrouver ce type de chaîne de collecte de logs un peu partout. Mais “standard” (avec guillemets) car cela reste assez jeune.<!--]--></p><p><!--[--><a href="http://eventuallycoding.com/wp-content/uploads/2013/11/85736-logchain.png" rel="nofollow"><!--[--><img src="/images/85736-logchain.png" alt="logchain"><!--]--></a><!--]--></p><p><!--[-->Dans le cadre du projet nous voulions définir une stratégie de logging sur deux types de logs :<!--]--></p><ul><!--[--><li><!--[-->des logs métiers<!--]--></li><li><!--[-->des logs techniques du service en SAAS lui-même<!--]--></li><!--]--></ul><p><!--[-->Et malgré de multiples technos impliquées : Bash, Python, Java,ce fut très simple grâce a… Rsyslog<!--]--></p><p><!--[--><a href="http://fr.wikipedia.org/wiki/Rsyslog" rel="nofollow"><!--[-->Rsyslog<!--]--></a> est une évolution de syslog. C’est un standard sous Unix qui permet de transférer des messages vers des fichiers locaux ou vers une machine distante via TCP (et non UDP comme syslog).<!--]--></p><p><!--[-->Chaque processus a été paramétré pour logger sur Syslog, que ce soit via des <a href="https://github.com/syatchmenoff/Logback-SyslogTCP" rel="nofollow"><!--[-->appenders logback<!--]--></a>, la brique de logging de <a href="http://twistedmatrix.com/trac/" rel="nofollow"><!--[-->Twisted<!--]--></a> (un peu modifié), ou l’ancien protocole qui utilisait déjà syslog. A noter que rsyslog supporte TLS (nous n&#39;avons pas testé cependant).<!--]--></p><p><!--[-->Et en sortie de tout ça ?<!--]--></p><p><!--[-->Le reste de la chaîne de traitement de logs repose sur des briques qui commence à être bien connu :<!--]--></p><ul><!--[--><li><!--[--><a href="http://logstash.net/" rel="nofollow"><!--[-->logstash<!--]--></a> pour la collecte et la transformation des flux<!--]--></li><li><!--[-->elasticsearch pour le stockage<!--]--></li><li><!--[--><a href="http://www.elasticsearch.org/overview/kibana/" rel="nofollow"><!--[-->Kibana<!--]--></a> pour la visualisation des logs techniques<!--]--></li><li><!--[-->(pas encore mis en place) Redis pour servir de tampon en écriture<!--]--></li><li><!--[-->(pas encore mis en place) statsd et Graphite pour du monitoring sur certaines métriques<!--]--></li><!--]--></ul><p><!--[-->Il y a eu récemment pas mal d’articles (*) sur le sujet autour de logstash et Kibana donc je vous laisse les découvrir si vous voulez en savoir plus :<!--]--></p><ul><!--[--><li><!--[--><a href="http://linuxfr.org/news/gestion-des-logs-avec-logstash-elasticsearch-kibana" rel="nofollow"><!--[-->http://linuxfr.org/news/gestion-des-logs-avec-logstash-elasticsearch-kibana<!--]--></a><!--]--></li><li><!--[--><a href="http://blog.xebia.fr/2013/11/05/analyse-en-temps-reel-de-vos-logs-applicatifs-avec-logstashelasticsearchkibana/" rel="nofollow"><!--[-->http://blog.xebia.fr/2013/11/05/analyse-en-temps-reel-de-vos-logs-applicatifs-avec-logstashelasticsearchkibana/<!--]--></a><!--]--></li><!--]--></ul><p><!--[-->(*) et je n’ai malheureusement pas conservé tous les liens, donc n’hésitez pas à en rajouter en commentaires.<!--]--></p><p><!--[-->Et vous, des expériences similaires ? Des commentaires sur les bases cités ci-dessus ?<!--]--></p></div></div></div></div><div class="mt-10 text-slate-600 font-extrabold text-sm font-medium min-w-full mx-auto mb-2"><a href="https://github.com/hlassiege/eventuallycoding/blob/master/content/articles/2013/11/05/comparaison-de-moteurs-de-base-de-donnees-pour-du-stockage-de-logs.md" rel="noopener noreferrer" target="_blank">Edit on Github <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 inline-block text-slate-600 -mt-1" viewBox="0 0 512 512"><path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H320zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"></path></svg></a></div><hr class="mb-8"><div><span class="font-proxima text-sm md:text-xl font-medium"> Did you like this blog post? </span><div class="mt-4 flex flex-row"><div><a href="https://facebook.com/sharer/sharer.php?u=https://eventuallycoding.com/2013/11/05/comparaison-de-moteurs-de-base-de-donnees-pour-du-stockage-de-logs" target="_blank" rel="noopener" aria-label="Share on Facebook"><button aria-label="Share on Facebook" type="button" class="text-white bg-[#3b5998] hover:bg-[#3b5998]/90 focus:ring-4 focus:outline-none focus:ring-[#3b5998]/50 font-medium rounded-lg text-sm px-3 py-3 text-center inline-flex items-center dark:focus:ring-[#3b5998]/55 mr-2 mb-2"><svg class="w-6 h-6" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M279.1 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.4 0 225.4 0c-73.22 0-121.1 44.38-121.1 124.7v70.62H22.89V288h81.39v224h100.2V288z"></path></svg></button></a></div><div><a href="https://twitter.com/share?url=https://eventuallycoding.com/2013/11/05/comparaison-de-moteurs-de-base-de-donnees-pour-du-stockage-de-logs&amp;text=Comparaison de moteurs de base de données pour du stockage de logs&amp;via=hugolassiege" target="_blank" title="Share on Twitter" rel="noopener noreferrer" aria-label="Share on Twitter"><button aria-label="Share on Twitter" type="button" class="text-white bg-[#1da1f2] hover:bg-[#1da1f2]/90 focus:ring-4 focus:outline-none focus:ring-[#1da1f2]/50 font-medium rounded-lg text-sm px-3 py-3 text-center inline-flex items-center dark:focus:ring-[#1da1f2]/55 mr-2 mb-2"><svg class="w-6 h-6" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.4 151.7c.325 4.548 .325 9.097 .325 13.65 0 138.7-105.6 298.6-298.6 298.6-59.45 0-114.7-17.22-161.1-47.11 8.447 .974 16.57 1.299 25.34 1.299 49.06 0 94.21-16.57 130.3-44.83-46.13-.975-84.79-31.19-98.11-72.77 6.498 .974 12.99 1.624 19.82 1.624 9.421 0 18.84-1.3 27.61-3.573-48.08-9.747-84.14-51.98-84.14-102.1v-1.299c13.97 7.797 30.21 12.67 47.43 13.32-28.26-18.84-46.78-51.01-46.78-87.39 0-19.49 5.197-37.36 14.29-52.95 51.65 63.67 129.3 105.3 216.4 109.8-1.624-7.797-2.599-15.92-2.599-24.04 0-57.83 46.78-104.9 104.9-104.9 30.21 0 57.5 12.67 76.67 33.14 23.72-4.548 46.46-13.32 66.6-25.34-7.798 24.37-24.37 44.83-46.13 57.83 21.12-2.273 41.58-8.122 60.43-16.24-14.29 20.79-32.16 39.31-52.63 54.25z"></path></svg></button></a></div><div class=""><a href="https://www.buymeacoffee.com/hlassiege" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-red.png" alt="Buy Me A Coffee" style="height:48px !important;width:209px !important;"></a></div></div></div><div id="hyvor-talk-view"></div></div></div><!--]--><!--]--><footer class="lg:mt-40 border-t border-t-2"><div class="flex flex-col items-center mt-16"><div class="flex mb-3 space-x-4"><a aria-label="Open RSS feed" target="_self" href="/rss.xml" class="text-sm text-gray-500 transition hover:text-gray-600"><img alt="RSS" class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/rss.9e0b880c.svg"></a><a aria-label="Open Mastodon profile" class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="me" href="https://piaille.fr/@hugolassiege"><span class="sr-only">Mastodon</span><img alt="Mastodon" class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/mastodon.f0ecdde8.svg"></a><a aria-label="Open github profile" class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="nofollow noopener noreferrer" href="https://github.com/hlassiege"><span class="sr-only">github</span><img alt="github" class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/github_new.4e3fe23c.svg"></a><a aria-label="Open linkedin profile" class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/hugolassiege/"><span class="sr-only">Linkedin</span><img alt="Linkedin" class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/linkeding.34c3bc6d.svg"></a><a aria-label="Open twitter profile" target="_blank" rel="nofollow noopener noreferrer" href="https://twitter.com/hugolassiege" class="text-sm text-gray-500 transition hover:text-gray-600"><img alt="Twitter" class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/twitter.457cff27.svg"></a></div><div class="flex mb-2 space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Copyright © 2023</div><div>•</div> EventuallyCoding - A la fin de l&#39;envoi, je code !</div><div class="text-sm text-gray-500"> Credits to www.freepik.com - <a href="https://www.freepik.com/vectors/citizen">Citizen vector created by freepik - </a><a href="https://www.freepik.com/vectors/css">Css vector created by vectorjuice</a></div></div></footer></div></section><!--]--></div><script type="module">import p from "/2013/11/05/comparaison-de-moteurs-de-base-de-donnees-pour-du-stockage-de-logs/_payload.js";window.__NUXT__={...p,...((function(a,b){return {state:{},_errors:{},serverRendered:true,config:{public:{content:{locales:[],defaultLocale:b,integrity:1683751048541,experimental:{stripQueryParameters:a,clientDB:a},api:{baseURL:"\u002Fapi\u002F_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:a,wsUrl:b,documentDriven:a,host:b,trailingSlash:a,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:b}},prerenderedAt:1683751085942}}(false,"")))}</script><script type="module" src="/_nuxt/entry.2ce1f658.js" crossorigin></script><script type="module" src="/_nuxt/default.a70527fc.js" crossorigin></script><script type="module" src="/_nuxt/_id_.995de1b0.js" crossorigin></script><script type="module" src="/_nuxt/ContentRenderer.863ef0bd.js" crossorigin></script><script type="module" src="/_nuxt/ContentRendererMarkdown.b332a498.js" crossorigin></script><script type="module" src="/_nuxt/ProseP.e573479b.js" crossorigin></script><script type="module" src="/_nuxt/ProseA.6991cfcb.js" crossorigin></script><script type="module" src="/_nuxt/ProseUl.fe0ced9e.js" crossorigin></script><script type="module" src="/_nuxt/ProseLi.743801a3.js" crossorigin></script><script type="module" src="/_nuxt/ProseH2.49505876.js" crossorigin></script><script type="module" src="/_nuxt/ProseH3.2f219e27.js" crossorigin></script><script type="module" src="/_nuxt/ProseImg.d69253e8.js" crossorigin></script><script type="module" src="/_nuxt/ProseStrong.be21de28.js" crossorigin></script><script type="module" src="/_nuxt/ProseBlockquote.fff08bd2.js" crossorigin></script><script type="module" src="/_nuxt/ProseEm.62b3f66a.js" crossorigin></script><script type="module" src="/_nuxt/ProseH1.eb5c63ac.js" crossorigin></script></body>
</html>