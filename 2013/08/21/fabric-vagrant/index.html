<!DOCTYPE html>
<html data-head-attrs="">
<head><title>Vagrant et Fabric : prise en main | EventuallyCoding</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><script src="https://digianalytics.fr/js/script.js" data-host="https://digianalytics.fr" data-dnt="false" id="ZwSg9rf6GA" async defer type="text/javascript"></script><meta name="description" content="Vagrant et Fabric : prise en main"><meta name="og:description" content="Vagrant et Fabric : prise en main"><meta name="og:type" content="article"><meta name="og:title" content="Vagrant et Fabric : prise en main"><meta name="og:url" content="https://eventuallycoding.com/2013/08/21/fabric-vagrant"><meta name="og:image" content="https://eventuallycoding.com/images/covers/cover2.jpg"><meta name="og:image:alt" content="Vagrant et Fabric : prise en main"><meta name="twitter:text:title" content="Vagrant et Fabric : prise en main"><meta name="twitter:image" content="https://eventuallycoding.com/images/covers/cover2.jpg"><meta name="twitter:card" content="summary"><meta name="article:published_time" content="2013-08-21T00:00:00.000Z"><meta name="article:article:modified_time" content="2013-08-21T00:00:00.000Z"><meta name="article:article:tag" content="devops,fabric,vagrant"><link rel="canonical" href="https://eventuallycoding.com/2013/08/21/fabric-vagrant"><meta name="head:count" content="17"><link rel="modulepreload" href="/2013/08/21/fabric-vagrant/_payload.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.1f061433.js"><link rel="preload" as="style" href="/_nuxt/entry.2fb37f22.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.6d027c12.js"><link rel="preload" as="style" href="/_nuxt/TheHeader.19f98060.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TheHeader.11512ce7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TheFooter.e758e308.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/siteMetaData.bb10a390.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/github_new.c6ffbd0b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_id_.9c932153.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/PageSidebar.7eecb4f1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dropdown.5bf5f9c4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_commonjsHelpers.f8a6f4fc.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.56de4234.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.7b66e39b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BlogCard.vue_vue_type_script_setup_true_lang.b5c60239.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.5f49fea1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.58444dfd.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/utils.1b9302a0.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/HeroSection.78eade73.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.d6638831.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseImg.4589e1a4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseOl.daf18803.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.dad5ca06.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.62658379.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.80716a9a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.8b34a6ae.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.bbbd0dc5.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/web-socket.c2e1c077.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.84466c0c.js"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/rss.9e0b880c.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/mastodon.f0ecdde8.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/linkeding.34c3bc6d.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/twitter.457cff27.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/github_new.4e3fe23c.svg"><link rel="stylesheet" href="/_nuxt/entry.2fb37f22.css"><link rel="stylesheet" href="/_nuxt/TheHeader.19f98060.css"><style>.nuxt-content h2{font-size:28px;font-weight:700}.nuxt-content h3{font-size:22px;font-weight:700}.nuxt-content p{margin-bottom:20px}</style><style>.nuxt-content h2{font-size:28px;font-weight:700}.nuxt-content h3{font-size:22px;font-weight:700}.nuxt-content p{margin-bottom:20px}.clip-ellipse{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity));-webkit-clip-path:ellipse(60% 100% at 50% 0);clip-path:ellipse(60% 100% at 50% 0);height:100px;width:100%}</style><style>pre code .line{display:block;min-height:1rem}</style></head>
<body data-head-attrs=""><div id="__nuxt"><!--[--><section class="w-full pb-12 antialiased"><div class="mx-auto max-w-8xl"><div data-v-b5718d32><nav class="transition-colors fixed w-full z-10 top-0" id="header-menu" data-v-b5718d32><div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8" data-v-b5718d32><div class="relative flex items-center justify-between h-16" data-v-b5718d32><div class="absolute inset-y-0 left-0 flex items-center sm:hidden" data-v-b5718d32><button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false" data-v-b5718d32><span class="sr-only" data-v-b5718d32>Open main menu</span><svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" data-v-b5718d32><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" data-v-b5718d32></path></svg><svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" data-v-b5718d32><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" data-v-b5718d32></path></svg></button></div><div class="flex-1 flex items-center justify-center sm:items-stretch sm:justify-start" data-v-b5718d32><div class="flex-shrink-0 flex items-center" data-v-b5718d32><span class="text-white text-base font-medium font-bruno text-2xl font-to-invert-to-pink" data-v-b5718d32> EventuallyCoding.com </span></div><div class="hidden sm:block sm:ml-6 absolute right-0" data-v-b5718d32><div class="flex space-x-4" data-v-b5718d32><!--[--><a href="/" class="link text-white font-to-invert-to-black" data-v-b5718d32>Home</a><a href="/blog" class="link text-white font-to-invert-to-black" data-v-b5718d32>Blog</a><a href="/resources" class="link text-white font-to-invert-to-black" data-v-b5718d32>Resources</a><!--]--></div></div></div></div></div><div class="hidden" data-v-b5718d32><div class="px-2 pt-2 pb-3 space-y-1" data-v-b5718d32><!--[--><a href="/" class="text-white hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium font-to-invert-to-black" data-v-b5718d32>Home</a><a href="/blog" class="text-white hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium font-to-invert-to-black" data-v-b5718d32>Blog</a><a href="/resources" class="text-white hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium font-to-invert-to-black" data-v-b5718d32>Resources</a><!--]--></div></div></nav></div><!--[--><!--[--><div><section class="flex items-center justify-center h-128 bg-transparent"><canvas id="c" class="-z-10 absolute w-full h-128 block"></canvas><div class="clip-ellipse absolute top-124 rotate-180"></div><!--[--><div class="absolute top-96 w-96 -translate-y-20"><img src="/images/covers/cover2.jpg" alt="Vagrant et Fabric : prise en main" class="object-cover"></div><!--]--></section><div class="px-4 mx-auto sm:px-6 xl:max-w-7xl xl:px-0 mt-10"><h1 class="text-4xl text-gray-700 font-extrabold mb-10 text-center">Vagrant et Fabric : prise en main</h1><div class="grid grid-cols-3 text-center sm:w-full md:w-1/2 mx-auto"><div><p class="text-center font-bold my-5 text-slate-400 text-xs"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> August 21, 2013</p></div><div><p class="text-center font-bold my-5 text-slate-400 text-xs"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 6 min read</p></div><div class="flex items-center font-medium sm:mx-3 justify-center"><img src="/hugo-nb.jpg" loading="lazy" alt="" class="mr-3 w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-800"><div><div class="font-bold text-slate-400 text-xs">Hugo Lassiège</div><a target="_blank" href="https://twitter.com/hugolassiege" class="font-bold text-sky-400 text-xs hover:text-sky-600"> @hugolassiege</a></div></div></div><div class="sm:w-full md:w-1/2 mx-auto"><p class="mt-2 text-xs my-3 flex flex-wrap -m-1 justify-center"><!--[--><a href="/blog?tag=devops" class="m-1 leading-loose text-slate-400 border border-current lowercase px-2 rounded font-medium">#devops</a><a href="/blog?tag=fabric" class="m-1 leading-loose text-slate-400 border border-current lowercase px-2 rounded font-medium">#fabric</a><a href="/blog?tag=vagrant" class="m-1 leading-loose text-slate-400 border border-current lowercase px-2 rounded font-medium">#vagrant</a><!--]--></p></div><div class="text-left mx-auto"><div class="flex flex-wrap lg:flex-row-reverse py-12"><div class="w-full lg:w-1/4 px-5"><div class="lg:sticky top-0 pt-5 -mt-5"><div class="toc hidden lg:block"><h3 class="border-b-4 pb-3 mb-3 border-gray-200 text-xl">On this page</h3><ul class="pl-0"><!--[--><li class="py-1"><a class="hover:text-smalt-blue-700" href="#principe">Principe</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#installation">Installation</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#le-fichier-vagrantfile">Le fichier Vagrantfile</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#la-configuration-réseau">La configuration réseau</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#le-partage-de-répertoire">Le partage de répertoire</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#le-provisionning">Le provisionning</a></li><li class="py-1"><a class="hover:text-smalt-blue-700" href="#et-en-équipe-">Et en équipe ?</a></li><!--]--></ul></div><div class="text-right mb-12"><div class="relative inline-block text-left ml-2 block lg:hidden"><div><span class="rounded-md shadow-sm"><button type="button" class="inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-sm leading-5 font-medium text-black hover:text-white hover:bg-smalt-blue-500 focus:outline-none transition ease-in-out duration-150" aria-haspopup="true" aria-expanded="true"><!--[-->On this page<!--]--><svg class="-mr-1 ml-2 h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></span></div><!----></div></div></div></div><div class="lg:w-3/4 w-full px-5 max-w-none centered-image"><div id="nuxtContent" class="prose font-proxima text-sm md:text-xl font-medium min-w-full md:p-10 mx-auto"><p><!--[--><img src="/images/c143b-vagrant.png" alt="vagrant">Petit jeu, est-ce que vous vous retrouvez dans les différentes situations ci-dessous :<!--]--></p><ol><!--[--><li><!--[-->Vous avez un environnement assez complexe à reproduire pour chaque poste de dev, un serveur de bases de données, une lib particulière, une configuration système etc…<!--]--></li><!--]--></ol><p><!--[-->Vous avez tout tenté :<!--]--></p><ul><!--[--><li><!--[-->un manuel d’accueil de 3 pages avec toutes les procédures d’install, mais dont l’une des étapes c’est d’aller chercher Gégé bureau 451 car “il y a que lui qui sait ce qu’il faut faire à cette étape” (Vous vous rappelez de notre fameux <a href="https://eventuallycoding.com/2012/05/21/etes-vous-pompier-pyromane" rel="nofollow"><!--[-->pompier pyromane<!--]--></a> ?).<!--]--></li><li><!--[-->des échanges de fichier via USB ou NFS. Mais au fil du temps il y a des tas de versions dans différents répertoire et plus personne sait ce que c’est. A part Gégé qui a la bonne version sur son PC.<!--]--></li><!--]--></ul><ol start="2"><!--[--><li><!--[-->Vos équipes ont toutes des postes Windows car les outils bureautiques imposé par votre société tourne dessus : Outlook, Office etc… Sauf que pour le développement vous avez besoin d’utiliser une plateforme Unix. Au début vous avez même testé tous les plugins FTP pour Eclipse, SublimeText, Intellij...<!--]--></li><!--]--></ol><p><!--[-->Tiens, voici Gégé d&#39;ailleurs...<!--]--></p><p><!--[--><img src="/images/f3985-gege.gif" alt="gege"><!--]--></p><p><!--[-->Et puis un jour, vous avez découvert l’utilité des machines virtuelles. Vous avez passé du temps à configurer une VM, vous avez installé tout ce qu’il fallait et vous l’avez diffusé.<!--]--></p><p><!--[-->Sauf que le temps a passé, les versions de certains outils ont évolué et chacun a effectué ces mises à jour dans son coin. La version de votre distribution aussi a changé et un beau jour la VM d’origine a tellement divergé qu’il a fallu mettre en place des procédures de mise à jour de vos VMs....<!--]--></p><p><!--[-->Et si on reprenait nos habitudes de dev, qu’on versionnait notre environnement, qu’on le scriptait, voire même qu’on le testait avant diffusion ? Peut-être avez vous déjà entendu parler de traiter votre <a href="http://architects.dzone.com/articles/infrastructure-code" rel="nofollow"><!--[-->infrastructure comme du code<!--]--></a> ?<!--]--></p><p><!--[-->Dans ce cas, ce billet vous intéressera puisque nous allons parler de création de VM et de provisionning, le tout de façon automatisé et reproductible avec Vagrant.<!--]--></p><p><!--[-->Si vous avez lu le <a href="https://eventuallycoding.com/2013/08/16/fabric-moi-un-cluster/" rel="nofollow"><!--[-->dernier billet sur Fabric<!--]--></a>, celui-ci poursuit dans la lignée. Cette fois-ci je vous propose d’utiliser <a href="http://www.vagrantup.com/" rel="nofollow"><!--[-->Vagrant<!--]--></a> pour créer une VM, et Fabric pour la configurer et installer les softs qu’il vous faut.<!--]--></p><h2 id="principe"><a href="#principe"><!--[-->Principe<!--]--></a></h2><p><!--[-->Pour résumer, Vagrant est un outil vous permettant de créer des machines virtuelles prêtes à l’emploi pour vos besoins, le tout avec un simple fichier de configuration. Ce sera donc ce fichier que nous versionnerons pour le partager dans l’équipe.<!--]--></p><p><!--[-->Vagrant repose sur des “fournisseurs (providers)” : <a href="https://www.virtualbox.org/" rel="nofollow"><!--[-->Virtual Box<!--]--></a>, VMWare, AWS par défaut. Et vous pouvez ajouter des plugins pour gérer d’autres providers, <a href="https://github.com/adrahon/vagrant-kvm" rel="nofollow"><!--[-->KVM par exemple<!--]--></a>.<!--]--></p><p><!--[-->Dans ce billet, nous utiliserons VirtualBox 4.2.16 (attention à bien prendre une version à jour !).<!--]--></p><p><!--[-->Pour “l’alimentation (provisionning)”, Vagrant repose sur des briques connues : Chef, Puppet, Ansible et du simple Shell. Là encore, en passant par des plugins on peut en rajouter et nous utiliserons justement <a href="https://gist.github.com/SirScott/5707611" rel="nofollow"><!--[-->le plugin Fabric<!--]--></a>.<!--]--></p><h2 id="installation"><a href="#installation"><!--[-->Installation<!--]--></a></h2><p><!--[-->Rien d’exotique, Vagrant a des packages pour les différents OS :<!--]--></p><ul><!--[--><li><!--[--><a href="http://downloads.vagrantup.com/" rel="nofollow"><!--[-->http://downloads.vagrantup.com/<!--]--></a><!--]--></li><!--]--></ul><p><!--[-->Mais pour notre cas nous allons ajouter deux choses supplémentaires :<!--]--></p><p><!--[-->Fabric  : que nous installerons avec<!--]--></p><p><!--[-->pip install Fabric<!--]--></p><p><!--[-->La petite subtilité si vous utilisez Windows c’est qu’il faut installer pycrypto manuellement pour que Fabric fonctionne. Vous trouverez le package ici <a href="http://www.voidspace.org.uk/python/modules.shtml#pycrypto" rel="nofollow"><!--[-->http://www.voidspace.org.uk/python/modules.shtml#pycrypto<!--]--></a><!--]--></p><p><!--[-->Et le plugin vagrant Fabric :<!--]--></p><p><!--[-->vagrant plugin install vagrant-fabric<!--]--></p><p><!--[-->Ensuite il vous suffirait d’aller dans un répertoire vierge et de taper :<!--]--></p><!--[--><pre><code>$ vagrant init precise32 http://files.vagrantup.com/precise32.box
$ vagrant up
$ vagrant ssh
</code></pre><!--]--><p><!--[-->Ces commandes vous permettraient d’initialiser une VM Ubuntu Precise 32bits, de la démarrer et de vous y connecter en SSH.<!--]--></p><p><!--[-->Mais allons plus loin.<!--]--></p><h2 id="le-fichier-vagrantfile"><a href="#le-fichier-vagrantfile"><!--[-->Le fichier Vagrantfile<!--]--></a></h2><p><!--[-->Le fichier Vagrantfile a été créé lorsque vous avez fait vagrant init precise32.<!--]--></p><p><!--[-->Ce fichier contient la configuration de votre VM. Ce fichier va vous permettre entre autre :<!--]--></p><ul><!--[--><li><!--[-->de faire suivre des ports entre votre machine et la VM<!--]--></li><li><!--[-->de partager des répertoires entre les deux machines<!--]--></li><li><!--[-->de configurer le réseau de votre VM<!--]--></li><li><!--[-->de provisionner la VM<!--]--></li><!--]--></ul><h2 id="la-configuration-réseau"><a href="#la-configuration-réseau"><!--[-->La configuration réseau<!--]--></a></h2><p><!--[-->Par défaut votre machine virtuelle est accessible en ssh via le port 2222. Vagrant a effectué un reroutage du port 2222 de votre machine vers le port 22 de votre VM.<!--]--></p><p><!--[-->Cette technique peut s’avérer suffisante dans bien des cas. Si vous avez juste besoin d’un routage de ce type pour voir un apache et un elasticsearch installé sur la VM, il vous suffit d’écrire ceci :<!--]--></p><!--[--><pre><code>config.vm.network :forwarded\_port, guest: 80, host: 8080
config.vm.network :forwarded\_port, guest: 9200, host: 9200
</code></pre><!--]--><p><!--[-->Dans d’autres cas, si par exemple vous voulez utiliser plusieurs VMs et qu’elles soient toutes disponibles sur un réseau privé au sein de votre machine, alors vous allez plutôt configurer des IPs pour chaque machines :<!--]--></p><!--[--><pre><code>config.vm.network :private\_network, ip: &quot;192.168.50.4&quot;
</code></pre><!--]--><h2 id="le-partage-de-répertoire"><a href="#le-partage-de-répertoire"><!--[-->Le partage de répertoire<!--]--></a></h2><p><!--[-->Partagez un répertoire entre votre VM et la machine hôte peut avoir plusieurs intérêt :<!--]--></p><ul><!--[--><li><!--[-->éviter que chaque nouvelle VM télécharge les mêmes choses et conserve un cache commun, par exemple celui d’APT<!--]--></li><li><!--[-->Partagez votre répertoire de développement, vous permettant ainsi que développer sous votre IDE préféré sur votre machine tout en ayant tous les fichiers partagés sur la VM.<!--]--></li><!--]--></ul><p><!--[-->Pour cela, vous allez déclarer des sync folder :<!--]--></p><!--[--><pre><code>config.vm.synced\_folder &#39;C:Usershugovagrantaptcache&#39;, &quot;/var/cache/apt/archives&quot;
config.vm.synced\_folder &#39;D:Devsrcsample&#39;, &quot;/vagrant/src&quot;
</code></pre><!--]--><h2 id="le-provisionning"><a href="#le-provisionning"><!--[-->Le provisionning<!--]--></a></h2><p><!--[-->Le provisionning va consister lors de la création de la VM à effectuer la configuration de la machine :<!--]--></p><ul><!--[--><li><!--[-->configuration système<!--]--></li><li><!--[-->installation de softs<!--]--></li><!--]--></ul><p><!--[-->Ici nous allons utiliser Fabric comme suit :<!--]--></p><!--[--><pre><code>config.vm.provision :fabric do |fab|
  fab.tasks = \[&quot;java es\_install&quot;\]
end
</code></pre><!--]--><p><!--[-->Nous avons juste déclaré deux tâches à appeler, et ces tâches sont déclarées dans un fichier fabfile.py présent au même niveau que votre fichier Vagrantfile.<!--]--></p><p><!--[-->Ce fichier fabfile est appelé par Vagrant pour la machine qui vient d’être monté installant dans notre exemple Java et elasticsearch.<!--]--></p><h2 id="et-en-équipe-"><a href="#et-en-équipe-"><!--[-->Et en équipe ?<!--]--></a></h2><p><!--[-->Voilà, nous avons fait un tour rapide. Grâce à Vagrant nous avons pu rapidement monter une VM sur notre machine avec un elasticsearch fonctionnel. Vous pouvez désormais partager ces fichiers de configuration pour votre équipe afin que chacun utilise le même environnement de travail. En cas de modif, changement d’OS, changement de configuration système etc… vous n’avez qu’à reprendre les fichiers Vagrantfile et Fabfile, travailler en local pour les mettre à jour et publier vos modifs.<!--]--></p><p><!--[-->Rien ne vous empêche aussi de tester la création de vos VM en appelant des scripts de vérification de la machine virtuelle créé, par exemple un script qui teste qu’il y a bien un elasticsearch qui répond sur un port donné de votre nouvelle VM. Et tout ceci, vous pouvez l’automatiser si ce processus de création de VM est vraiment critique pour vous.<!--]--></p><p><!--[-->Ensuite dans votre équipe, chacun peut réappliquer les modifs de provisionning :<!--]--></p><!--[--><pre><code>vagrant provision
</code></pre><!--]--><p><!--[-->ou bien réinitialiser complètement la VM :<!--]--></p><!--[--><pre><code>vagrant reload
</code></pre><!--]--><p><!--[-->ou encore la refaire de zéro :<!--]--></p><!--[--><pre><code>vagrant destroy
vagrant up
</code></pre><!--]--><p><!--[-->Et si vous voulez jouer avec les versions complètes de ces fichiers, vous retrouverez l’ensemble du code sous Github : <a href="https://github.com/hlassiege/fabric-vagrant" rel="nofollow"><!--[-->https://github.com/hlassiege/fabric-vagrant<!--]--></a><!--]--></p></div></div></div></div><hr class="mb-12"><div><span> Partager sur : </span><div class="mt-4"><a href="https://facebook.com/sharer/sharer.php?u=https://eventuallycoding.com/2013/08/21/fabric-vagrant" target="_blank" rel="noopener" aria-label=""><button type="button" class="text-white bg-[#3b5998] hover:bg-[#3b5998]/90 focus:ring-4 focus:outline-none focus:ring-[#3b5998]/50 font-medium rounded-lg text-sm px-3 py-3 text-center inline-flex items-center dark:focus:ring-[#3b5998]/55 mr-2 mb-2"><svg class="w-6 h-6" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M279.1 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.4 0 225.4 0c-73.22 0-121.1 44.38-121.1 124.7v70.62H22.89V288h81.39v224h100.2V288z"></path></svg></button></a><a href="https://twitter.com/share?url=https://eventuallycoding.com/2013/08/21/fabric-vagrant&amp;text=Vagrant et Fabric : prise en main&amp;via=hugolassiege" target="_blank" title="Share on Twitter" rel="noopener noreferrer"><button type="button" class="text-white bg-[#1da1f2] hover:bg-[#1da1f2]/90 focus:ring-4 focus:outline-none focus:ring-[#1da1f2]/50 font-medium rounded-lg text-sm px-3 py-3 text-center inline-flex items-center dark:focus:ring-[#1da1f2]/55 mr-2 mb-2"><svg class="w-6 h-6" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.4 151.7c.325 4.548 .325 9.097 .325 13.65 0 138.7-105.6 298.6-298.6 298.6-59.45 0-114.7-17.22-161.1-47.11 8.447 .974 16.57 1.299 25.34 1.299 49.06 0 94.21-16.57 130.3-44.83-46.13-.975-84.79-31.19-98.11-72.77 6.498 .974 12.99 1.624 19.82 1.624 9.421 0 18.84-1.3 27.61-3.573-48.08-9.747-84.14-51.98-84.14-102.1v-1.299c13.97 7.797 30.21 12.67 47.43 13.32-28.26-18.84-46.78-51.01-46.78-87.39 0-19.49 5.197-37.36 14.29-52.95 51.65 63.67 129.3 105.3 216.4 109.8-1.624-7.797-2.599-15.92-2.599-24.04 0-57.83 46.78-104.9 104.9-104.9 30.21 0 57.5 12.67 76.67 33.14 23.72-4.548 46.46-13.32 66.6-25.34-7.798 24.37-24.37 44.83-46.13 57.83 21.12-2.273 41.58-8.122 60.43-16.24-14.29 20.79-32.16 39.31-52.63 54.25z"></path></svg></button></a></div></div><!----><div id="hyvor-talk-view"></div></div></div><!--]--><!--]--><footer class="lg:mt-52 border-t border-t-2"><div class="flex flex-col items-center mt-16"><div class="flex mb-3 space-x-4"><a target="_self" href="/rss.xml" class="text-sm text-gray-500 transition hover:text-gray-600"><img class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/rss.9e0b880c.svg"></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="me" href="https://piaille.fr/@hugolassiege"><span class="sr-only">Mastodon</span><img class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/mastodon.f0ecdde8.svg"></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="nofollow noopener noreferrer" href="https://github.com/hlassiege"><span class="sr-only">github</span><img class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/github_new.4e3fe23c.svg"></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/hugolassiege/"><span class="sr-only">Linkedin</span><img class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/linkeding.34c3bc6d.svg"></a><a target="_blank" rel="nofollow noopener noreferrer" href="https://twitter.com/hugolassiege" class="text-sm text-gray-500 transition hover:text-gray-600"><img class="transition-transform hover:scale-110 w-8 h-8" src="/_nuxt/twitter.457cff27.svg"></a></div><div class="flex mb-2 space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Copyright © 2022</div><div>•</div> EventuallyCoding - A la fin de l&#39;envoi, je code !</div><div class="text-sm text-gray-500">Credits to www.freepik.com - <a href="https://www.freepik.com/vectors/citizen">Citizen vector created by freepik - </a><a href="https://www.freepik.com/vectors/css">Css vector created by vectorjuice</a></div></div></footer></div></section><!--]--></div><script type="module">import p from "/2013/08/21/fabric-vagrant/_payload.js";window.__NUXT__={...p,...((function(a,b){return {state:{},_errors:{},serverRendered:true,config:{public:{content:{clientDB:{isSPA:a,integrity:1670227054344},navigation:{fields:[]},base:"_content",tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:a,wsUrl:b,documentDriven:a,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:b}},prerenderedAt:1670227090063}}(false,"")))}</script><script type="module" src="/_nuxt/entry.1f061433.js" crossorigin></script><script type="module" src="/_nuxt/default.6d027c12.js" crossorigin></script><script type="module" src="/_nuxt/TheHeader.11512ce7.js" crossorigin></script><script type="module" src="/_nuxt/_id_.9c932153.js" crossorigin></script><script type="module" src="/_nuxt/TheFooter.e758e308.js" crossorigin></script><script type="module" src="/_nuxt/HeroSection.78eade73.js" crossorigin></script><script type="module" src="/_nuxt/PageSidebar.7eecb4f1.js" crossorigin></script><script type="module" src="/_nuxt/Dropdown.5bf5f9c4.js" crossorigin></script><script type="module" src="/_nuxt/ContentRenderer.56de4234.js" crossorigin></script><script type="module" src="/_nuxt/ContentRendererMarkdown.7b66e39b.js" crossorigin></script><script type="module" src="/_nuxt/ProseP.d6638831.js" crossorigin></script><script type="module" src="/_nuxt/ProseImg.4589e1a4.js" crossorigin></script><script type="module" src="/_nuxt/ProseOl.daf18803.js" crossorigin></script><script type="module" src="/_nuxt/ProseLi.dad5ca06.js" crossorigin></script><script type="module" src="/_nuxt/ProseUl.62658379.js" crossorigin></script><script type="module" src="/_nuxt/ProseA.80716a9a.js" crossorigin></script><script type="module" src="/_nuxt/ProseH2.8b34a6ae.js" crossorigin></script><script type="module" src="/_nuxt/ProseCode.bbbd0dc5.js" crossorigin></script></body>
</html>