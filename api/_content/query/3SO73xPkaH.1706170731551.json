{"_path":"/articles/2009/12/29/jouons","_dir":"29","_draft":false,"_partial":false,"_locale":"","title":"Jouons !","description":"la mode revient aux Frameworks lights, les frameworks haute productivité","id":"140","date":"2009-12-29","categories":["waza"],"tags":["play"],"cover":"play.png","readingTime":{"text":"7 min read","minutes":6.55,"time":393000,"words":1310},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"/images/play.png","title":"play"},"children":[]},{"type":"text","value":" Récemment, entre le "},{"type":"element","tag":"a","props":{"href":"http://xebia.developpez.com/articles/java/web/","rel":["nofollow"],"title":"livre blanc"},"children":[{"type":"text","value":"livre blanc d'Aurélien Maury sur les Frameworks web haute productivité"}]},{"type":"text","value":" ou "},{"type":"element","tag":"a","props":{"href":"http://www.infoq.com/presentations/Lessons-Learned-from-Java-EE","rel":["nofollow"]},"children":[{"type":"text","value":"les critiques de Rod Johnson à propos de J2EE"}]},{"type":"text","value":", la mode revient aux Frameworks lights. Je dis bien \""},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"revient"}]},{"type":"text","value":"\", car ça fait déjà quelque temps que le développement web rapide existe et fait recette."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Quand à moi je suis attardé un petit peu sur Play!, le petit nouveau qui change tout."}]},{"type":"element","tag":"h2","props":{"id":"mais-cest-quoi-play"},"children":[{"type":"text","value":"Mais c'est quoi Play! ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Play! c'est un Framework français créé par "},{"type":"element","tag":"a","props":{"href":"http://guillaume.bort.fr/","rel":["nofollow"],"title":"Guillaume Bort"},"children":[{"type":"text","value":"Guillaume Bort"}]},{"type":"text","value":" et supporté par la société qu'il a créé "},{"type":"element","tag":"a","props":{"href":"http://www.zenexity.fr/","rel":["nofollow"],"title":"Zenecity"},"children":[{"type":"text","value":"Zenecity"}]},{"type":"text","value":". En reprenant l'expression sur le site de Play! plus qu'un Framework, c'est une stack complète. Entendez par là que Play! c'est :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"un serveur web avec son routeur de requêtes HTTP,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"un Framework MVC2,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"des utilitaires (envoi de mails etc...),"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"des modules (CRUD, secure, intégration GWT, intégration Scala etc...)."}]}]},{"type":"element","tag":"h2","props":{"id":"cest-bien-ou-pas"},"children":[{"type":"text","value":"C'est bien ou pas ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Eh bien pour faire simple, j'adore. J'avais fait pas mal de "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"PHP"}]},{"type":"text","value":" à une époque et j'ai enfin retrouvé la souplesse et la rapidité de développement que j'avais alors. En effet il ne s'agit pas simplement d'un nième Framework web mais d'une stack complète (voir plus haut) qui vient avec sa propre vision de développement. Comme le dit le site : \""},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"un Framework de développement fait par des développeurs"}]},{"type":"text","value":"\""}]},{"type":"element","tag":"h3","props":{"id":"pourquoi-cette-comparaison-avec-php"},"children":[{"type":"text","value":"Pourquoi cette comparaison avec PHP ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Un petit retour en arrière s'impose pour faire comprendre le parallèle. A une équipe j'ai fait pas mal de PHP comme beaucoup de développeurs débutants, séduits par sa simplicité, sa syntaxe proche du C (donc facilement abordable en sortie d'école). Je débutais, j'étais \"mal habillé\", entendez par là que je n'utilisais pas de Framework, pas de debugger, pas d'IDE. Et pourtant c'était très rapide à faire, parce que c'était simple."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Simple déjà par son débogage, l'erreur était immédiatement affiché sur la page web"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Warning: mysql_fetch_array(): supplied argument is not a valid MySQL result resource in /servers/apache/sites/ddb/kb/fct_kb.php on line 260"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"avec le numéro de ligne etc..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Simple ensuite parce que relancer un serveur apache :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"c'était très rarement nécessaire"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ca prenait 10 secondes"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Simple parce qu'on était très proche du web, si vous aviez compris l'utilisation des variables réservées $_GET, $_POST, $_REQUEST, $_SESSION et $_COOKIE vous aviez presque tout compris aux grands principes de l'HTTP (ok je simplifie ^^)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"En gros, on passait de l'éditeur au navigateur, un F5 et on testait."}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Bon d'accord, mais il y avait quand même des points noirs faut pas le cacher :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pas de stack cohérente, à l'époque PEAR était encore trop inégal suivant les paquetages (je ne sais pas si ça a changé aujourd'hui)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pas de Framework ORM, donc pas mal de SQL à faire soi-même"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"l'absence de typage c'est pas toujours très pratique, surtout pour l'auto complétion dans un IDE ^^ (je sais, chacun son point de vue sur ce sujet...)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ok, ne pas compiler c'est un gain de temps, mais c'est un peu frustrant de se rendre compte à l'exécution qu'on a oublié un \";\""}]}]},{"type":"element","tag":"h3","props":{"id":"et-play-dans-tout-ça"},"children":[{"type":"text","value":"Et Play dans tout ça ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Eh bien Play! c'est un ensemble de ces avantages, sans les inconvénients ;)"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Le débogage est là encore rapide, des erreurs très détaillées sont affichées sur le navigateur."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Que ce soit pour la compilation :"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"guide1-3","src":"/images/guide1-3.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"(image issue de la doc Play!)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'insertion de données :"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"guide6-1","src":"/images/guide6-1.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"(image issue de la doc Play!)"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Relancer le serveur Play! c'est très rare, puisque Play! compile vos sources et lit vos fichiers de conf à la volée. Et au pire c'est pas très long, beaucoup moins qu'un serveur Weblogic ;)"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"On reste proche du Web, la surcouche J2EE a disparu et il ne reste que les concepts HTTP pour ce Framework qui se veut totalement "},{"type":"element","tag":"a","props":{"href":"http://java.sun.com/developer/technicalArticles/WebServices/restful/","rel":["nofollow"],"title":"REST"},"children":[{"type":"text","value":"REST"}]},{"type":"text","value":". On a accès directement à params, session, request etc... Et le binding automatique sur les paramètres HTTP c'est du bohneur ^^"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Le cycle de développement consiste toujours à coder puis switcher vers le navigateur."}]}]},{"type":"element","tag":"h3","props":{"id":"et-quand-aux-points-noirs-que-jévoquais-pour-le-php"},"children":[{"type":"text","value":"Et quand aux points noirs que j'évoquais pour le PHP ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Eh bien ils ont disparu :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"la stack est très cohérente, on a une très bonne intégration des paquetages entre eux (JPA intégré dans le model, model enrichi dans les templates, utilitaires fourni de base pour les mails où la manipulation des cookies etc...)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"le Framework ORM c'est tout simplement JPA. En fait dans un premier temps en développant avec Play je n'ai pas touché du tout ni à du SQL, ni à une base de données."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Évidemment Java est typé (je sais, chacun son point de vue sur ce sujet...)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Comme on reste dans un univers Java, j'utilise Eclipse allégrement et je profite de la détection des erreurs en amont via mon éditeur. Play! compile ses classes à la volée mais ça n'empêche pas Eclipse de faire de même. D'après la doc Play! utilise d'ailleurs le compilateur d'Eclipse dans son noyau."}]}]},{"type":"element","tag":"h3","props":{"id":"bon-mais-il-y-a-quelque-chose-qui-cloche"},"children":[{"type":"text","value":"Bon mais il y a quelque chose qui cloche ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"D'un point de vue technique, je suis pour l'instant débutant en Play! A première vue c'est concis, rapide à développer etc..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Mais, je n'ai pas encore testé des choses très importantes :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"les performances du serveur Play! En effet Play! n’utilisant pas de serveur d'appli, on se repose sur la stack Play! qui reste jeune. Pour avoir connu des ennuis en pagaille sur Tomcat ou Apache, je resterais prudent sur l'utilisation de Play! sous forte charge tant que je ne l'aurais pas testé moi même"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"la souplesse de configuration. Ca rejoint le point précédent, ok pour l'instant j'ai utilisé Play! avec la configuration de base mais est-ce que je pourrais facilement le tuner en fonction du nombre d'utilisateurs ?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Enfin ce sont des interrogations donc « "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Wait and see"}]},{"type":"text","value":" »."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ensuite Play! peut être perturbant sur certains principes :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"des variables publiques sans accesseurs. Même si, je l'accorde, les accesseurs sont souvent inutiles, parfois ils servent à effectuer un traitement/une transformation avant affectation ou envoi de la valeur. Ils peuvent aussi servir à protéger en écriture des collections de données. Ca reste pour moi un point polémique mais je suis peut être passé à côté."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"des méthodes statiques destiné à des controlleurs procéduraux. Déstabilisant mais pourquoi pas. Du coup la surcharge des méthodes statiques n'est pas possible mais pour l'instant je n'ai pas rencontré de problème majeur avec cette philosophie."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"des méthodes statiques sur les principaux outils de Play! Etant assez friand de programmation par contrat, j'ai tendance à être assez opposé aux méthodes statiques. Ca se justifie parfois (sur java.math par exemple), et d'autre fois c'est délicat (Cache ou Notifier par exemple ?). J'aime bien injecter l'implémentation dont j'ai besoin en fonction du contexte, surtout quand je teste ^^"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Et puis sinon, dans les inconvénients : ce n'est pas du J2EE Bon ok je viens de dire que c'était super bien que ce ne soit pas du J2EE, c'est simple, concis, efficace etc... Oui mais du coup on perd quelques outils qui étaient présents uniquement sur J2EE (les filtres Spring Security par exemple). On se coupe d'une partie des outils déjà créé, donc il faudra les recréer ou attendre qu'il le soit."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Et là ça me permet d'aborder le principal point noir de Play!, sa communauté. Play! étant très jeune, la communauté est très limité, les outils et modules sont essentiellement issus de l'équipe de Play! La richesse d'un Framework c'est son écosystème, et celui-ci est encore assez limité ce qui rend son choix un peu culotté pour l'instant. Et puis même si le technical lead Guillaume Bort est très actif aujourd'hui, qu'en sera-t-il demain s'il abandonne sa société Zenecity ? Quelle est la pérennité de ce Framework franco-francais et de la société Zenecity qui se trouve derrière ?"}]},{"type":"element","tag":"h2","props":{"id":"conclusion"},"children":[{"type":"text","value":"Conclusion"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"J'adhère aux principes de simplicité mis en avant par ces Frameworks \"haute productivité\". Après avoir bossé (et bosser encore) sur des logiciels usines à gaz, après avoir vu des fichiers de 75 000 lignes de code (véridique !!), des couches d'abstraction à n'en plus finir pour envoyer un simple entier d'une fonction à l'autre etc... je tente de coller le plus possible au principe : "},{"type":"element","tag":"a","props":{"href":"http://fr.wikipedia.org/wiki/Keep_it_Simple,_Stupid","rel":["nofollow"],"title":"Keep it simple"},"children":[{"type":"text","value":"Keep it simple"}]},{"type":"text","value":". Donc oui, Play! j'adhère et je compte jouer encore un peu avec, au moins en extra professionnel. En espérant qu'il gagne un écosystème suffisamment pérenne pour le proposer en milieu professionnel."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"mais-cest-quoi-play","depth":2,"text":"Mais c'est quoi Play! ?"},{"id":"cest-bien-ou-pas","depth":2,"text":"C'est bien ou pas ?","children":[{"id":"pourquoi-cette-comparaison-avec-php","depth":3,"text":"Pourquoi cette comparaison avec PHP ?"},{"id":"et-play-dans-tout-ça","depth":3,"text":"Et Play dans tout ça ?"},{"id":"et-quand-aux-points-noirs-que-jévoquais-pour-le-php","depth":3,"text":"Et quand aux points noirs que j'évoquais pour le PHP ?"},{"id":"bon-mais-il-y-a-quelque-chose-qui-cloche","depth":3,"text":"Bon mais il y a quelque chose qui cloche ?"}]},{"id":"conclusion","depth":2,"text":"Conclusion"}]}},"_type":"markdown","_id":"content:articles:2009:12:29:jouons.md","_source":"content","_file":"articles/2009/12/29/jouons.md","_extension":"md"}