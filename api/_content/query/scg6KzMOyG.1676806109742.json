{"_path":"/articles/2022/05/19/malt-engineering-under-the-hood-gridsome","_dir":"19","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Malt engineering sous le capot avec Gridsome","description":"Je ne sais pas si vous avez suivi l'actualité mais le marché de la tech dévisse pas mal depuis le début d'année.","id":"1","date":"2022-05-19","categories":["Malt"],"tags":["malt","gridsome","jamstack"],"img":"jamstack.png","cover":"jamstack.png","readingTime":{"text":"6 min read","minutes":5.205,"time":312300,"words":1041},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Récemment chez Malt nous avons ouvert "},{"type":"element","tag":"a","props":{"href":"https://malt.engineering/","rel":["nofollow"]},"children":[{"type":"text","value":"malt.engineering"}]},{"type":"text","value":" afin de rassembler et structurer des informations sur notre fonctionnement.\nSur ce billet je vous propose de découvrir comment cela fonctionne sous le capot.\nJe vais aborder les raisons de la création de ce site, en quoi il est différent du blog et surtout, comment il a été construit avec "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Gridsome"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"pourquoi-maltengineering"},"children":[{"type":"text","value":"Pourquoi Malt.engineering ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tout d'abord il faut remonter aux raisons qui nous poussent à partager publiquement notre travail.\nIl se trouve que depuis le début de ma carrière je fais ma veille technologique à travers des blogs, forums, vidéos sur internet.\nDepuis mes premières années professionnelles ces ressources en ligne m'ont rendu service et inspiré plusieurs fois, techniquement et humainement."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Assez naturellement j'ai commencé moi-même à contribuer en essayant également de partager mon expérience au bénéfice de cette communauté.\nTout d'abord en tant que rédacteur sur le site developpez.com de 2002 a 2007 (environ ?), puis via le blog "},{"type":"element","tag":"a","props":{"href":"https://eventuallycoding.com","rel":["nofollow"]},"children":[{"type":"text","value":"eventuallycoding.com"}]},{"type":"text","value":" à partir de 2007."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lorsque j'ai cofondé Malt, les premières personnes qui nous ont rejointes ce sont soit des ex-collègues avec qui j'avais déjà travaillé, soit des personnes que j'avais rencontré dans des meetups et conférences.\nChaque personne partageait cet état d'esprit et nous avons publié dès les premières années des projets open source (critical css, mongo streamer) et des articles pour décrire ce que nous apprenions avec la croissance de l'entreprise."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Au delà de cette volonté de partage, laissez-moi vous donner un second avantage du blog dans une société comme Malt.\nUn billet de blog, c'est une affirmation, un positionnement.\nLes billets laissent une trace, c'est une documentation. Ils ne documentent pas uniquement le comment, mais aussi le pourquoi.\nBref, aussi un formidable outil à l'intérieur de Malt. Si on donne publiquement une vision de Malt en externe, cela donne du sens et du concret en interne.\nC'est comme un phare qui montre l'intention."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Bref, c'est donc une longue histoire d'implication dans la communauté qui nous a mené ici.\nMais le "},{"type":"element","tag":"a","props":{"href":"https://blog.malt.engineering","rel":["nofollow"]},"children":[{"type":"text","value":"blog Malt"}]},{"type":"text","value":" a un défaut. Malgré sa richesse, il est difficile de structurer l'information, difficile de juger de ce qui est obsolète ou non.\nNous sentions qu'il était nécessaire de regrouper l'information pour faire un "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"handbook"}]},{"type":"text","value":", un petit guide auquel on se réfère ensuite constamment, notamment à l'arrivée dans l'équipe.\nEt quitte à le faire, autant poursuivre dans le même esprit, en le mettant à disposition publiquement."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"En somme, "},{"type":"element","tag":"a","props":{"href":"https://malt.engineering/","rel":["nofollow"]},"children":[{"type":"text","value":"malt.engineering"}]},{"type":"text","value":" permet de mieux nous connaitre mais aussi de découvrir notre fonctionnement interne via un handbook que nous allons enrichir régulièrement.\nCela peut être d'une certaine aide pour d'autres entreprises qui passeront par les mêmes étapes que nous dans le futur.\nEt bien sûr, c'est aussi une facon de vous convaincre de nous rejoindre si vous pensez que cet environnement peut vous convenir."}]},{"type":"element","tag":"h2","props":{"id":"gridsome-un-framework-ssg"},"children":[{"type":"text","value":"Gridsome, un framework SSG"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Dans de nombreux cas, les sites d'équipes produit se fondent dans un Wordpress un peu plus corporate. Parfois ces équipes ont la main dessus mais c'est très souvent une autre équipe qui gère la structure du contenu.\nNous avons souhaité au contraire que l'ensemble de l'équipe produit puisse s'impliquer dessus, autant sur la forme que sur le fond.\nLe choix s'est donc porté vers un site statique avec "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Javascript, API et markup"}]},{"type":"text","value":", la fameuse "},{"type":"element","tag":"a","props":{"href":"https://jamstack.org/","rel":["nofollow"]},"children":[{"type":"text","value":"\"Jamstack\""}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Jamstack description","src":"/images/jamstack.jpg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ce choix a l'avantage d'être très simple à déployer, à modifier et possède une empreinte carbone très faible (tout est statique, pas de bases de données)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Jamstack c'est un terme générique et nous avions le choix entre de "},{"type":"element","tag":"a","props":{"href":"https://jamstack.org/generators/","rel":["nofollow"]},"children":[{"type":"text","value":"nombreuses alternatives"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nous avons regardé rapidement :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://gohugo.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Hugo"}]},{"type":"text","value":"\nson templating en go ne nous a pas séduits"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nextjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Next.js"}]},{"type":"text","value":"\ntemplating en react, nous n'étions pas à l'aise. Et c'est avant tout orienté pour faire des apps donc peut-être trop généraliste dans notre cas"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.gatsbyjs.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Gatsby"}]},{"type":"text","value":"\nle favori au départ. Le templating est aussi en react mais il est spécialisé sur la construction de site statique et est très populaire."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Mais en cherchant davantage, on est tombé sur "},{"type":"element","tag":"a","props":{"href":"https://nuxtjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt"}]},{"type":"text","value":", une alternative à Next.js mais utilisant vue.js à la place de React.\nIl avait cependant les mêmes défauts que Next, trop généraliste, trop d'efforts à faire à première vue pour l'usage en tant que blog.\n(j'y reviendrais dans un futur billet cependant)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Et puis enfin, le chainon manquant, une alternative à Gatsby et utilisant Vue.js comme moteur de template : "},{"type":"element","tag":"a","props":{"href":"https://gridsome.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Gridsome"}]}]},{"type":"element","tag":"img","props":{"alt":"Gridsome logo","src":"/images/gridsome.png","width":400,"className":["mx-auto"]},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gridsome a l'énorme avantage d'être spécialisé dans la construction de site statiques ("},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"SSG : server side generation"}]},{"type":"text","value":"), est préconfiguré pour optimiser la performance, et peut se reposer sur des sources de données externes (comme Gatsby)."}]},{"type":"element","tag":"h2","props":{"id":"gridsome-sous-le-capot"},"children":[{"type":"text","value":"Gridsome sous le capot"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gridsome reprend les concepts de Gatsby et notamment l'aggrégation de sources externes au moment du build via des \"sources\". Ces sources peuvent utiliser des CMS headless, des flux RSS, des fichiers json, markdown etc...\nL'ensemble de ces informations sont mises dans une base de données Graphql qui peut être interrogé lors de la création de la page. Et tout le templating est fait via Vue.js."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/images/gridsome-concept.png"},"children":[{"type":"element","tag":"img","props":{"alt":"Gridsome","src":"/images/gridsome-concept.png"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tout les sujets de performance sont configurés par défaut, automatic code splitting, prefetch, progressive images etc..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"En terme de plugin, on utilise :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"sitemap"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"feed (pour aller charger des infos en RSS de notre blog et chaine youtube)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"robots.txt"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"remark (pour l'enrichissement du markdown et l'embarquement de liens, vidéos youtube, gist  etc... )"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"tailwind"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Mais le plus simple pour comprendre comment ça marche, c'est peut être tout simplement de "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"regarder le code directement"}]},{"type":"text","value":" !"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Et celui-ci est disponible ici :\n"},{"type":"element","tag":"a","props":{"href":"https://gitlab.com/maltcommunity/public/malt.engineering","rel":["nofollow"]},"children":[{"type":"text","value":"https://gitlab.com/maltcommunity/public/malt.engineering"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Eh oui, en effet nous avons souhaité rendre ce dépot open source avec deux objectifs :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"cela devient plus simple pour n'importe qui dans la boite de contribuer, donc ce n'est pas réservé aux développeurs et il s'agit d'éditer des fichiers markdown"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"plus généralement cela donne une source d'inspiration pour la communauté qui utilise Gridsome.\nOn est bien content quand on tombe sur ce type de ressources nous-mêmes, alors pourquoi ne pas le faire. D'autant que le site étant public, ne contenant rien de sensible, pourquoi cacher le code source ?"}]}]},{"type":"element","tag":"h2","props":{"id":"résultat"},"children":[{"type":"text","value":"Résultat"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Et est-ce que ça marche ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'un des principaux critères de succès était l'adoption par l'équipe. Il y a eu plus de 115 commits par une douzaine de contributeurs sur le repository.\nD'autres équipes ont déjà proposé des merge request.\nLa simplicité d'usage fait que le site a été mis à jour régulièrement et il continuera à l'être."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Le Handbook va continuer à se structurer dans les prochains jours pour faire apparaître le career path et l'organisation par tribes et guildes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Restez à l'écoute :)"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"pourquoi-maltengineering","depth":2,"text":"Pourquoi Malt.engineering ?"},{"id":"gridsome-un-framework-ssg","depth":2,"text":"Gridsome, un framework SSG"},{"id":"gridsome-sous-le-capot","depth":2,"text":"Gridsome sous le capot"},{"id":"résultat","depth":2,"text":"Résultat"}]}},"_type":"markdown","_id":"content:articles:2022:05:19:malt-engineering-under-the-hood-gridsome.md","_source":"content","_file":"articles/2022/05/19/malt-engineering-under-the-hood-gridsome.md","_extension":"md"}